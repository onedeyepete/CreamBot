(function(_0x1908f2,_0x169adc){const _0x5371bd=_0x1908f2();function _0x3df7e4(_0x8b9bdd,_0x5ce384){return _0x17ac(_0x8b9bdd- -0x1c,_0x5ce384);}while(!![]){try{const _0x45f876=parseInt(_0x3df7e4(0x167,0x186))/0x1*(parseInt(_0x3df7e4(0x1ca,0x217))/0x2)+-parseInt(_0x3df7e4(0x154,0x102))/0x3+parseInt(_0x3df7e4(0x130,0x142))/0x4*(-parseInt(_0x3df7e4(0x185,0x146))/0x5)+parseInt(_0x3df7e4(0x181,0x1cd))/0x6*(-parseInt(_0x3df7e4(0x19b,0x15e))/0x7)+-parseInt(_0x3df7e4(0x176,0x1b1))/0x8+-parseInt(_0x3df7e4(0x16b,0x17e))/0x9*(parseInt(_0x3df7e4(0x138,0x151))/0xa)+-parseInt(_0x3df7e4(0x1a2,0x180))/0xb*(-parseInt(_0x3df7e4(0x162,0x168))/0xc);if(_0x45f876===_0x169adc)break;else _0x5371bd['push'](_0x5371bd['shift']());}catch(_0x9937f5){_0x5371bd['push'](_0x5371bd['shift']());}}}(_0x2441,0xc64b3));const {SlashCommandBuilder,EmbedBuilder,ActionRowBuilder,ButtonBuilder,ButtonStyle,StringSelectMenuBuilder}=require('discord.js'),fs=require('fs'),yaml=require(_0x43535b(-0x192,-0x1e8)),mongoose=require('mongoose');function _0x43535b(_0x50ac27,_0x4f5eab){return _0x17ac(_0x4f5eab- -0x33d,_0x50ac27);}const config=yaml[_0x43535b(-0x175,-0x1b5)](fs[_0x43535b(-0x154,-0x152)]('./config.yml',_0x43535b(-0x21a,-0x1d7))),lang=yaml[_0x43535b(-0x208,-0x1b5)](fs['readFileSync'](_0x43535b(-0x1c3,-0x18b),_0x43535b(-0x1d4,-0x1d7))),embedSchema=new mongoose[(_0x43535b(-0x15b,-0x173))]({'name':String,'embedData':Object,'linkButtons':Array}),EmbedTemplate=mongoose[_0x43535b(-0x197,-0x18f)](_0x43535b(-0x1e8,-0x1de),embedSchema),activeInteractions=new Map();function _0x17ac(_0x30c983,_0x42e3eb){const _0x2441f9=_0x2441();return _0x17ac=function(_0x17aced,_0x29c162){_0x17aced=_0x17aced-0x13d;let _0x59d71c=_0x2441f9[_0x17aced];return _0x59d71c;},_0x17ac(_0x30c983,_0x42e3eb);}module[_0x43535b(-0x199,-0x1b1)]={'data':new SlashCommandBuilder()['setName'](_0x43535b(-0x1ae,-0x182))[_0x43535b(-0x19e,-0x189)](_0x43535b(-0x1a9,-0x1c2))[_0x43535b(-0x1ca,-0x18d)](_0x4a5d34=>_0x4a5d34['setName'](_0x43535b(-0x1aa,-0x1d2))[_0x43535b(-0x170,-0x189)](_0x43535b(-0x19d,-0x1b4)))[_0x43535b(-0x15e,-0x18d)](_0x32ff30=>_0x32ff30[_0x43535b(-0x1d6,-0x1d5)](_0x43535b(-0x1a7,-0x1b0))[_0x43535b(-0x13d,-0x189)]('Edit\x20an\x20existing\x20embed')['addStringOption'](_0x14cfa4=>_0x14cfa4[_0x43535b(-0x1e1,-0x1d5)](_0x43535b(-0x1f0,-0x1a1))['setDescription'](_0x43535b(-0x1b4,-0x192))[_0x43535b(-0x1d0,-0x17a)](!![]))),async 'execute'(_0x50fd5b){if(!_0x50fd5b[_0xd6a2d7(-0x1cc,-0x1f2)][_0xd6a2d7(-0x1c1,-0x1bf)][_0xd6a2d7(-0x1ef,-0x218)][_0xd6a2d7(-0x1bf,-0x175)](_0x42f78c=>config[_0xd6a2d7(-0x1b9,-0x210)][_0xd6a2d7(-0x1b3,-0x164)][_0xd6a2d7(-0x1ff,-0x22d)](_0x42f78c['id'])))return _0x50fd5b[_0xd6a2d7(-0x22e,-0x1db)]({'content':lang['NoPermsMessage'],'ephemeral':!![]});const _0x7aeba2=_0x50fd5b[_0xd6a2d7(-0x202,-0x1c7)]['id'];if(activeInteractions['has'](_0x7aeba2)){const _0x3da826=activeInteractions['get'](_0x7aeba2);_0x3da826[_0xd6a2d7(-0x1ee,-0x200)]();}const _0x10698b=_0x50fd5b[_0xd6a2d7(-0x213,-0x1bf)]['getSubcommand']();let _0x1c87fe=new EmbedBuilder()[_0xd6a2d7(-0x1e0,-0x1b5)]({'name':'Embed\x20Builder'})['setColor'](config['EmbedColors'])[_0xd6a2d7(-0x1ba,-0x1f5)]('Welcome\x20to\x20the\x20**interactive\x20embed\x20builder**.\x20Use\x20the\x20buttons\x20below\x20to\x20build\x20the\x20embed,\x20when\x20you\x27re\x20done\x20click\x20**Post\x20Embed**!'),_0x50465e=null,_0x39aa1f=[];if(_0x10698b==='edit'){_0x50465e=_0x50fd5b[_0xd6a2d7(-0x213,-0x1ea)][_0xd6a2d7(-0x21c,-0x233)](_0xd6a2d7(-0x1d2,-0x1c7));try{const _0x3e25a7=await _0x50fd5b['channel'][_0xd6a2d7(-0x1cb,-0x1bd)][_0xd6a2d7(-0x1fd,-0x1bc)](_0x50465e);if(_0x3e25a7&&_0x3e25a7[_0xd6a2d7(-0x1c5,-0x1c2)][0x0])_0x1c87fe=EmbedBuilder[_0xd6a2d7(-0x18d,-0x19e)](_0x3e25a7['embeds'][0x0]),_0x39aa1f=_0x3e25a7[_0xd6a2d7(-0x21e,-0x22a)][_0xd6a2d7(-0x194,-0x13d)](_0x1e6a4f=>_0x1e6a4f[_0xd6a2d7(-0x21e,-0x270)][_0xd6a2d7(-0x1cf,-0x1cb)](_0x4fc2d9=>_0x4fc2d9[_0xd6a2d7(-0x230,-0x206)]===_0xd6a2d7(-0x198,-0x1e4)&&_0x4fc2d9[_0xd6a2d7(-0x19b,-0x14b)]===_0xd6a2d7(-0x1a9,-0x15b)));else return _0x50fd5b[_0xd6a2d7(-0x22e,-0x1fa)]({'content':_0xd6a2d7(-0x1c2,-0x199),'ephemeral':!![]});}catch(_0x57a736){return _0x50fd5b[_0xd6a2d7(-0x22e,-0x216)]({'content':_0xd6a2d7(-0x196,-0x1ea),'ephemeral':!![]});}}function _0xd6a2d7(_0x41c23d,_0x4a1bf3){return _0x43535b(_0x4a1bf3,_0x41c23d- -0x31);}const _0x3190c4=Date['now']()['toString'](),_0x25f1ff=[..._0x39aa1f],_0x13a709=[new ButtonBuilder()[_0xd6a2d7(-0x216,-0x1be)](_0xd6a2d7(-0x1a8,-0x1ba)+_0x3190c4)[_0xd6a2d7(-0x1a6,-0x1d9)](_0xd6a2d7(-0x227,-0x227))[_0xd6a2d7(-0x1b2,-0x20a)](ButtonStyle[_0xd6a2d7(-0x1fb,-0x1c3)]),new ButtonBuilder()[_0xd6a2d7(-0x216,-0x1fa)](_0xd6a2d7(-0x22d,-0x27b)+_0x3190c4)['setLabel'](_0xd6a2d7(-0x1d5,-0x221))[_0xd6a2d7(-0x1b2,-0x1bf)](ButtonStyle['Secondary']),new ButtonBuilder()['setCustomId'](_0xd6a2d7(-0x22a,-0x1d7)+_0x3190c4)[_0xd6a2d7(-0x1a6,-0x18d)]('Author\x20Text')['setStyle'](ButtonStyle['Secondary']),new ButtonBuilder()[_0xd6a2d7(-0x216,-0x1be)](_0xd6a2d7(-0x1bd,-0x1c5)+_0x3190c4)[_0xd6a2d7(-0x1a6,-0x182)](_0xd6a2d7(-0x1d9,-0x1e3))[_0xd6a2d7(-0x1b2,-0x1f0)](ButtonStyle[_0xd6a2d7(-0x1fb,-0x203)]),new ButtonBuilder()[_0xd6a2d7(-0x216,-0x20b)](_0xd6a2d7(-0x1b8,-0x20d)+_0x3190c4)[_0xd6a2d7(-0x1a6,-0x182)]('Footer\x20Text')['setStyle'](ButtonStyle['Secondary']),new ButtonBuilder()[_0xd6a2d7(-0x216,-0x1e1)]('footericon_'+_0x3190c4)[_0xd6a2d7(-0x1a6,-0x176)](_0xd6a2d7(-0x1ce,-0x1bb))[_0xd6a2d7(-0x1b2,-0x189)](ButtonStyle[_0xd6a2d7(-0x1fb,-0x223)]),new ButtonBuilder()['setCustomId']('thumbnail_'+_0x3190c4)[_0xd6a2d7(-0x1a6,-0x1d5)]('Thumbnail\x20Image')[_0xd6a2d7(-0x1b2,-0x171)](ButtonStyle[_0xd6a2d7(-0x1fb,-0x253)]),new ButtonBuilder()[_0xd6a2d7(-0x216,-0x1cb)](_0xd6a2d7(-0x19a,-0x1cf)+_0x3190c4)['setLabel'](_0xd6a2d7(-0x209,-0x218))[_0xd6a2d7(-0x1b2,-0x1fa)](ButtonStyle[_0xd6a2d7(-0x1fb,-0x21b)]),new ButtonBuilder()['setCustomId']('color_'+_0x3190c4)[_0xd6a2d7(-0x1a6,-0x172)](_0xd6a2d7(-0x1d8,-0x218))['setStyle'](ButtonStyle[_0xd6a2d7(-0x1fb,-0x24a)]),new ButtonBuilder()[_0xd6a2d7(-0x216,-0x215)]('timestamp_'+_0x3190c4)['setLabel'](_0xd6a2d7(-0x1af,-0x1a0))[_0xd6a2d7(-0x1b2,-0x200)](ButtonStyle[_0xd6a2d7(-0x1fb,-0x1de)]),new ButtonBuilder()['setCustomId'](_0xd6a2d7(-0x182,-0x185)+_0x3190c4)[_0xd6a2d7(-0x1a6,-0x188)](_0xd6a2d7(-0x1df,-0x231))['setStyle'](ButtonStyle[_0xd6a2d7(-0x1fb,-0x1cd)]),new ButtonBuilder()[_0xd6a2d7(-0x216,-0x1e3)](_0xd6a2d7(-0x20a,-0x23a)+_0x3190c4)['setLabel'](_0xd6a2d7(-0x1c9,-0x1a0))[_0xd6a2d7(-0x1b2,-0x202)](ButtonStyle['Secondary']),new ButtonBuilder()[_0xd6a2d7(-0x216,-0x24d)](_0xd6a2d7(-0x1f2,-0x240)+_0x3190c4)['setLabel'](_0xd6a2d7(-0x220,-0x21f))[_0xd6a2d7(-0x1b2,-0x1a6)](ButtonStyle['Danger']),new ButtonBuilder()[_0xd6a2d7(-0x216,-0x215)](_0xd6a2d7(-0x18b,-0x1c5)+_0x3190c4)[_0xd6a2d7(-0x1a6,-0x1c1)](_0xd6a2d7(-0x1db,-0x220))['setStyle'](ButtonStyle[_0xd6a2d7(-0x195,-0x164)])],_0x4e687c=[];for(let _0x3d2d9e=0x0;_0x3d2d9e<_0x13a709[_0xd6a2d7(-0x210,-0x1e5)];_0x3d2d9e+=0x5){_0x4e687c['push'](new ActionRowBuilder()[_0xd6a2d7(-0x215,-0x26a)](_0x13a709['slice'](_0x3d2d9e,_0x3d2d9e+0x5)));}const _0x3efd67=await EmbedTemplate['find']()[_0xd6a2d7(-0x226,-0x252)]('name');if(_0x3efd67[_0xd6a2d7(-0x210,-0x20c)]>0x0){const _0x9715bf=_0x3efd67[_0xd6a2d7(-0x20e,-0x23a)](_0xba81d2=>({'label':_0xba81d2['name'],'value':_0xba81d2[_0xd6a2d7(-0x1de,-0x199)]})),_0x142df9=new StringSelectMenuBuilder()[_0xd6a2d7(-0x216,-0x1db)](_0xd6a2d7(-0x18f,-0x1d2)+_0x3190c4)['setPlaceholder'](_0xd6a2d7(-0x205,-0x22f))['addOptions'](_0x9715bf);_0x4e687c['unshift'](new ActionRowBuilder()['addComponents'](_0x142df9));}await _0x50fd5b['reply']({'embeds':[_0x1c87fe],'components':combineComponents(_0x4e687c,_0x25f1ff),'ephemeral':!![]});const _0x3664ce=_0x400f15=>_0x400f15[_0xd6a2d7(-0x202,-0x1f3)]['id']===_0x50fd5b[_0xd6a2d7(-0x202,-0x1e2)]['id'],_0x58b3cd=_0x50fd5b[_0xd6a2d7(-0x1c6,-0x1c7)][_0xd6a2d7(-0x1b6,-0x1a6)]({'filter':_0x3664ce,'time':0xdbba0});activeInteractions['set'](_0x7aeba2,_0x58b3cd),_0x58b3cd['on'](_0xd6a2d7(-0x1a0,-0x168),async _0x3dda55=>{function _0x42d54c(_0x45b95a,_0x2f0ed5){return _0xd6a2d7(_0x45b95a-0x724,_0x2f0ed5);}try{await handleButtonInteraction(_0x3dda55,_0x1c87fe,_0x4e687c,_0x25f1ff,_0x58b3cd,_0x50465e);}catch(_0x4114f1){console[_0x42d54c(0x54d,0x5a2)](_0x42d54c(0x50d,0x4f2),_0x4114f1),!_0x3dda55[_0x42d54c(0x507,0x4e7)]&&!_0x3dda55['replied']&&await _0x3dda55['reply']({'content':_0x42d54c(0x569,0x561),'ephemeral':!![]})[_0x42d54c(0x576,0x5ab)](console['error']);}}),_0x58b3cd['on'](_0xd6a2d7(-0x1f9,-0x233),async()=>{function _0x3990e6(_0x3ae4e2,_0x182fd2){return _0xd6a2d7(_0x182fd2-0x6e7,_0x3ae4e2);}activeInteractions[_0x3990e6(0x4b1,0x4dc)](_0x7aeba2);});}};function linkButtonsToComponents(_0x19d680){const _0x37b2b3=[];function _0x12e5db(_0xbfd22e,_0x10c7ad){return _0x43535b(_0x10c7ad,_0xbfd22e-0x292);}for(let _0x12ce18=0x0;_0x12ce18<_0x19d680[_0x12e5db(0xb3,0x92)];_0x12ce18+=0x5){_0x37b2b3['push'](new ActionRowBuilder()[_0x12e5db(0xae,0x9e)](_0x19d680[_0x12e5db(0x137,0xe1)](_0x12ce18,_0x12ce18+0x5)));}return _0x37b2b3;}function combineComponents(_0x529806,_0x40ec65){const _0x57c4fa=[..._0x529806];function _0x20b3e1(_0x4ffb3f,_0x47cc44){return _0x43535b(_0x47cc44,_0x4ffb3f-0x642);}const _0x520967=linkButtonsToComponents(_0x40ec65);return _0x57c4fa[_0x20b3e1(0x4d2,0x49e)](..._0x520967),_0x57c4fa;}function _0x2441(){const _0x352d88=['includes','1189683kLIbPx','fetch','Template\x20deleted\x20successfully!','Secondary','Invalid\x20URL.\x20Please\x20try\x20again.','end','values','assign','description','Default\x20author\x20text','Please\x20enter\x20the\x20label\x20for\x20the\x20link\x20button:','Manage\x20embeds','post_','code','108OjBiMI','cache','stop','awaitMessages','size','3ApTCzn','setImage','editReply','No\x20button\x20selected,\x20operation\x20cancelled.','4056219ECjszU','load','Create\x20a\x20new\x20embed\x20using\x20buttons','embedData','The\x20message\x20was\x20not\x20found.\x20It\x20might\x20have\x20been\x20deleted.','exports','edit','setAuthor','Add\x20Link\x20Button','name','customId','5546880KRiooT','Save\x20Template','setURL','Author\x20Icon','Embed\x20Color','error','findOne','Description\x20Text','none','title','messageid','690306jjJyLo','footericon','filter','Footer\x20Icon','5477515cISfmA','member','messages','Please\x20enter\x20the\x20name\x20of\x20the\x20template\x20you\x20want\x20to\x20delete:','Remove\x20Link\x20Button','deleteOne','addOptions','channel','embeds','setFooter','The\x20ID\x20of\x20the\x20message\x20to\x20edit','Message\x20not\x20found\x20or\x20does\x20not\x20contain\x20an\x20embed.','roles','model','some','addSubcommand','authoricon_','./lang.yml','An\x20unexpected\x20error\x20occurred.\x20Please\x20try\x20again.','setDescription','ModerationRoles','footer_','35DPUcqS','createMessageComponentCollector','first','setPlaceholder','embed','setStyle','Select\x20a\x20link\x20button\x20to\x20remove:','4923402OZFyzd','Add\x20Timestamp','catch','No\x20label\x20received,\x20operation\x20cancelled.','color','setRequired','followUp','LINK','title_','deferUpdate','setLabel','toJSON','Schema','No\x20input\x20received,\x20operation\x20cancelled.','A\x20template\x20with\x20this\x20name\x20already\x20exists.\x20Please\x20choose\x20a\x20different\x20name.','push','collect','Successfully\x20posted\x20the\x20embed!','Select\x20a\x20link\x20button\x20to\x20remove','footer','setThumbnail','style','image_','toLowerCase','BUTTON','save','Failed\x20to\x20fetch\x20the\x20message.\x20Please\x20ensure\x20the\x20message\x20ID\x20is\x20correct.','Primary','flatMap','send','No\x20emoji\x20received,\x20operation\x20cancelled.','label','data','loadtemplate_','text','from','slice','save_','Template\x20saved\x20successfully!','removelink_select','297356iKyXaB','removelink','http:','Link','addlink','readFileSync','addlink_','test','type','setTimestamp','reply','description_','author','post','author_','linkButtons','I\x20do\x20not\x20have\x20permission\x20to\x20edit\x20this\x20message.\x20Please\x20ensure\x20I\x20have\x20the\x20necessary\x20permissions.','Title\x20Text','select','replied','Please\x20enter\x20the\x20URL\x20for\x20the\x20link\x20button:','setTitle','4iCflbb','Default\x20footer\x20text','Post\x20Embed','image','components','deferred','getString','content','20vqNxtE','js-yaml','iconURL','Error\x20handling\x20button\x20interaction:','setCustomId','addComponents','You\x20have\x20entered\x20an\x20invalid\x20URL\x20or\x20the\x20URL\x20does\x20not\x20point\x20to\x20an\x20image\x20file.\x20URLs\x20must\x20end\x20with\x20.jpeg,\x20.jpg,\x20.gif,\x20.png,\x20or\x20.svg.','options','protocol','splice','length','EmbedTemplate','map','authoricon','Please\x20enter\x20the\x20emoji\x20for\x20the\x20link\x20button\x20(type\x20\x22none\x22\x20for\x20no\x20emoji):','delete','removelink_','Large\x20Image','utf8','No\x20URL\x20received,\x20operation\x20cancelled.','setName','Load\x20a\x20template','thumbnail','create','user','setEmoji','Please\x20enter\x20a\x20name\x20for\x20this\x20template:'];_0x2441=function(){return _0x352d88;};return _0x2441();}async function handleButtonInteraction(_0x558b5d,_0x27cf02,_0x422ac7,_0x30e799,_0x24a343,_0x3704ae){if(_0x558b5d[_0x416b36(0xbd,0xda)]||_0x558b5d[_0x416b36(0xb5,0xe1)])return;function _0x416b36(_0x4587b0,_0x5dc5db){return _0x43535b(_0x5dc5db,_0x4587b0-0x2a9);}await _0x558b5d[_0x416b36(0x133,0x162)]();switch(_0x558b5d[_0x416b36(0xfd,0xbf)]['split']('_')[0x0]){case _0x416b36(0x107,0x10c):case _0x416b36(0xe4,0x115):case _0x416b36(0xae,0xbe):case _0x416b36(0xcd,0x9f):case _0x416b36(0x13d,0x172):case _0x416b36(0x10a,0xe2):case'thumbnail':case'image':case _0x416b36(0x12e,0x13a):await promptAndApply(_0x558b5d,_0x558b5d[_0x416b36(0xfd,0xfc)]['split']('_')[0x0],_0x27cf02,_0x422ac7,_0x30e799);break;case'timestamp':_0x27cf02[_0x416b36(0xab,0x7f)](),await _0x558b5d['editReply']({'embeds':[_0x27cf02],'components':combineComponents(_0x422ac7,_0x30e799),'ephemeral':!![]});break;case _0x416b36(0xaf,0x97):await postEmbed(_0x558b5d,_0x27cf02,_0x30e799,_0x3704ae);break;case _0x416b36(0x143,0x15b):await saveTemplate(_0x558b5d,_0x27cf02,_0x30e799);break;case'loadtemplate':await loadTemplate(_0x558b5d,_0x27cf02,_0x422ac7,_0x30e799);break;case'deletetemplate':await deleteTemplate(_0x558b5d,_0x27cf02,_0x422ac7,_0x30e799);break;case _0x416b36(0x156,0x177):await addLinkButton(_0x558b5d,_0x27cf02,_0x30e799,_0x422ac7);break;case _0x416b36(0x153,0x153):await removeLinkButton(_0x558b5d,_0x27cf02,_0x30e799,_0x422ac7);break;default:break;}}async function promptAndApply(_0x73616b,_0x10b304,_0x1c4e92,_0x3535db,_0x16abaa){const _0x1d723a=_0x30a34a=>_0x30a34a[_0x4e5644(0x2e7,0x2a2)]['id']===_0x73616b[_0x4e5644(0x323,0x2cc)]['id'];function _0x4e5644(_0x7a172a,_0x6aee7a){return _0x43535b(_0x7a172a,_0x6aee7a-0x49d);}await _0x73616b[_0x4e5644(0x2fe,0x324)]({'content':'Please\x20enter\x20the\x20'+_0x10b304+'\x20(must\x20be\x20a\x20valid\x20URL\x20for\x20images/icons\x20or\x20type\x20\x22none\x22\x20to\x20remove):','ephemeral':!![]});const _0x4b982d=await _0x73616b['channel']['awaitMessages']({'filter':_0x1d723a,'max':0x1,'time':0xea60}),_0xdb8fe=_0x4b982d[_0x4e5644(0x325,0x319)]();if(_0xdb8fe){const _0x3b9ff4=_0xdb8fe[_0x4e5644(0x29c,0x2b3)][_0x4e5644(0x2e0,0x335)]()===_0x4e5644(0x320,0x2fa)?null:_0xdb8fe[_0x4e5644(0x2cc,0x2b3)];if(_0x3b9ff4&&[_0x4e5644(0x2ff,0x2ca),_0x4e5644(0x26e,0x2af),_0x4e5644(0x2ca,0x2fe),_0x4e5644(0x271,0x2c1)]['includes'](_0x10b304)){if(!isValidHttpUrl(_0x3b9ff4)||!isImageUrl(_0x3b9ff4)){await _0x73616b[_0x4e5644(0x320,0x324)]({'content':_0x4e5644(0x288,0x2ba),'ephemeral':!![]}),await _0xdb8fe['delete']();return;}}switch(_0x10b304){case _0x4e5644(0x2c1,0x2fb):_0x1c4e92[_0x4e5644(0x2ba,0x2ab)](_0x3b9ff4);break;case'description':_0x1c4e92[_0x4e5644(0x351,0x314)](_0x3b9ff4);break;case _0x4e5644(0x2a7,0x2a2):_0x1c4e92[_0x4e5644(0x317,0x2ee)](_0x3b9ff4?{'name':_0x3b9ff4,'iconURL':_0x1c4e92[_0x4e5644(0x37e,0x33e)][_0x4e5644(0x256,0x2a2)]?.[_0x4e5644(0x262,0x2b6)]||null}:null);break;case'authoricon':_0x1c4e92[_0x4e5644(0x2b3,0x2ee)](_0x3b9ff4?{'name':_0x1c4e92[_0x4e5644(0x2ef,0x33e)][_0x4e5644(0x299,0x2a2)]?.[_0x4e5644(0x31c,0x2f0)]||_0x4e5644(0x288,0x2d9),'iconURL':_0x3b9ff4}:{'name':_0x1c4e92[_0x4e5644(0x331,0x33e)][_0x4e5644(0x2b3,0x2a2)]?.[_0x4e5644(0x315,0x2f0)]||_0x4e5644(0x286,0x2d9)});break;case _0x4e5644(0x350,0x331):_0x1c4e92[_0x4e5644(0x2f8,0x30a)](_0x3b9ff4?{'text':_0x3b9ff4,'iconURL':_0x1c4e92['data'][_0x4e5644(0x307,0x331)]?.[_0x4e5644(0x2b8,0x2b6)]||null}:null);break;case'footericon':_0x1c4e92[_0x4e5644(0x31b,0x30a)](_0x3b9ff4?{'text':_0x1c4e92[_0x4e5644(0x30e,0x33e)][_0x4e5644(0x2ea,0x331)]?.['text']||_0x4e5644(0x2c1,0x2ad),'iconURL':_0x3b9ff4}:{'text':_0x1c4e92[_0x4e5644(0x33d,0x33e)][_0x4e5644(0x327,0x331)]?.[_0x4e5644(0x2ea,0x340)]||_0x4e5644(0x288,0x2ad)});break;case _0x4e5644(0x300,0x2ca):_0x1c4e92[_0x4e5644(0x331,0x332)](_0x3b9ff4);break;case _0x4e5644(0x2ac,0x2af):_0x1c4e92[_0x4e5644(0x2d7,0x2e4)](_0x3b9ff4);break;case _0x4e5644(0x31e,0x322):_0x1c4e92['setColor'](_0x3b9ff4);break;}await _0xdb8fe[_0x4e5644(0x2c7,0x2c3)](),await _0x73616b[_0x4e5644(0x323,0x2e5)]({'embeds':[_0x1c4e92],'components':combineComponents(_0x3535db,_0x16abaa),'ephemeral':!![]});}else await _0x73616b[_0x4e5644(0x34e,0x324)]({'content':_0x4e5644(0x340,0x32b),'ephemeral':!![]});}async function saveTemplate(_0x44cdbe,_0x4fc956,_0x875bd){const _0x17bd89=_0x268c3f=>_0x268c3f['author']['id']===_0x44cdbe[_0x4a4ace(0x2fc,0x2fe)]['id'];await _0x44cdbe[_0x4a4ace(0x354,0x391)]({'content':_0x4a4ace(0x2fe,0x2d2),'ephemeral':!![]});function _0x4a4ace(_0x1b3e03,_0x2eddb0){return _0x43535b(_0x2eddb0,_0x1b3e03-0x4cd);}const _0x241b2d=await _0x44cdbe[_0x4a4ace(0x338,0x326)][_0x4a4ace(0x311,0x359)]({'filter':_0x17bd89,'max':0x1,'time':0xea60}),_0x29e2d6=_0x241b2d['first']();if(_0x29e2d6){const _0x14612e=_0x29e2d6[_0x4a4ace(0x2e3,0x2b8)],_0x1f22a9=await EmbedTemplate['findOne']({'name':_0x14612e});if(_0x1f22a9){await _0x44cdbe['followUp']({'content':_0x4a4ace(0x35c,0x35c),'ephemeral':!![]}),await _0x29e2d6['delete']();return;}const _0x351515=new EmbedTemplate({'name':_0x14612e,'embedData':_0x4fc956[_0x4a4ace(0x359,0x34e)](),'linkButtons':_0x875bd[_0x4a4ace(0x2f0,0x2ce)](_0xd2a3a2=>_0xd2a3a2['toJSON']())});await _0x351515[_0x4a4ace(0x367,0x372)](),await _0x29e2d6[_0x4a4ace(0x2f3,0x2f9)](),await _0x44cdbe[_0x4a4ace(0x354,0x36f)]({'content':_0x4a4ace(0x374,0x322),'ephemeral':!![]});}else await _0x44cdbe[_0x4a4ace(0x354,0x346)]({'content':'No\x20input\x20received,\x20operation\x20cancelled.','ephemeral':!![]});}async function loadTemplate(_0x3296d9,_0x287836,_0xd95350,_0x1a9733){const _0x1b33ab=_0x3296d9[_0x29c236(0x36d,0x31e)][0x0],_0x528c18=await EmbedTemplate[_0x29c236(0x38f,0x3df)]({'name':_0x1b33ab});function _0x29c236(_0x1d6630,_0x4b45c0){return _0x43535b(_0x4b45c0,_0x1d6630-0x534);}_0x528c18?(Object[_0x29c236(0x36e,0x368)](_0x287836,new EmbedBuilder(_0x528c18[_0x29c236(0x381,0x332)])),_0x1a9733['splice'](0x0,_0x1a9733[_0x29c236(0x355,0x359)],..._0x528c18[_0x29c236(0x33c,0x394)][_0x29c236(0x357,0x370)](_0xf4b49=>ButtonBuilder['from'](_0xf4b49))),await _0x3296d9[_0x29c236(0x37c,0x37d)]({'embeds':[_0x287836],'components':combineComponents(_0xd95350,_0x1a9733),'ephemeral':!![]})):await _0x3296d9['followUp']({'content':'Template\x20not\x20found.','ephemeral':!![]});}async function deleteTemplate(_0x10abad,_0x13c9b7,_0x2755f9,_0x2d0925){const _0x3c98e1=_0x5e04ae=>_0x5e04ae[_0x2f1104(0x2e,0x7e)]['id']===_0x10abad[_0x2f1104(0x58,0x90)]['id'];await _0x10abad[_0x2f1104(0xb0,0x6c)]({'content':_0x2f1104(0x90,0xaf),'ephemeral':!![]});const _0xafd2a0=await _0x10abad[_0x2f1104(0x94,0xb9)]['awaitMessages']({'filter':_0x3c98e1,'max':0x1,'time':0xea60}),_0x1ccedb=_0xafd2a0[_0x2f1104(0xa5,0xd2)]();function _0x2f1104(_0xedfc98,_0x21d69d){return _0x43535b(_0x21d69d,_0xedfc98-0x229);}if(_0x1ccedb){const _0x1c1849=_0x1ccedb[_0x2f1104(0x3f,0x75)];await EmbedTemplate[_0x2f1104(0x92,0xe4)]({'name':_0x1c1849}),await _0x1ccedb[_0x2f1104(0x4f,0x9e)](),await _0x10abad['followUp']({'content':_0x2f1104(0x5e,0x7d),'ephemeral':!![]});}else await _0x10abad['followUp']({'content':_0x2f1104(0xb7,0xad),'ephemeral':!![]});}async function addLinkButton(_0x84496d,_0xf5f74d,_0x11f539,_0x57e537){const _0x1cc851=_0x46b603=>_0x46b603[_0x221d34(0x4fc,0x4db)]['id']===_0x84496d[_0x221d34(0x526,0x4e4)]['id'];function _0x221d34(_0x37d942,_0x64882a){return _0x43535b(_0x64882a,_0x37d942-0x6f7);}await _0x84496d[_0x221d34(0x57e,0x54d)]({'content':_0x221d34(0x504,0x534),'ephemeral':!![]});const _0x3b93e3=await _0x84496d[_0x221d34(0x562,0x54e)][_0x221d34(0x53b,0x4f7)]({'filter':_0x1cc851,'max':0x1,'time':0xea60}),_0x285c18=_0x3b93e3[_0x221d34(0x573,0x557)]();if(_0x285c18){const _0x261085=_0x285c18[_0x221d34(0x50d,0x4d0)];if(!isValidHttpUrl(_0x261085)){await _0x84496d[_0x221d34(0x57e,0x5ad)]({'content':_0x221d34(0x52e,0x50c),'ephemeral':!![]}),await _0x285c18[_0x221d34(0x51d,0x51a)]();return;}await _0x285c18['delete'](),await _0x84496d[_0x221d34(0x57e,0x53e)]({'content':_0x221d34(0x534,0x512),'ephemeral':!![]});const _0x118b52=await _0x84496d[_0x221d34(0x562,0x58e)][_0x221d34(0x53b,0x525)]({'filter':_0x1cc851,'max':0x1,'time':0xea60}),_0xd59098=_0x118b52[_0x221d34(0x573,0x5ca)]();if(_0xd59098){const _0x3b2812=_0xd59098[_0x221d34(0x50d,0x554)];await _0xd59098[_0x221d34(0x51d,0x52d)](),await _0x84496d['followUp']({'content':_0x221d34(0x51c,0x4d1),'ephemeral':!![]});const _0x4711bd=await _0x84496d['channel'][_0x221d34(0x53b,0x545)]({'filter':_0x1cc851,'max':0x1,'time':0xea60}),_0x3c6219=_0x4711bd[_0x221d34(0x573,0x56d)]();if(_0x3c6219){const _0x537585=_0x3c6219[_0x221d34(0x50d,0x512)]['toLowerCase']()===_0x221d34(0x554,0x536)?null:_0x3c6219[_0x221d34(0x50d,0x561)],_0x112d73=new ButtonBuilder()[_0x221d34(0x54e,0x558)](_0x261085)['setLabel'](_0x3b2812)[_0x221d34(0x576,0x5c3)](ButtonStyle[_0x221d34(0x5a3,0x568)]);_0x537585&&_0x112d73[_0x221d34(0x527,0x56c)](_0x537585),_0x11f539[_0x221d34(0x587,0x5d4)](_0x112d73),await _0x3c6219[_0x221d34(0x51d,0x50f)](),await _0x84496d[_0x221d34(0x53f,0x589)]({'embeds':[_0xf5f74d],'components':combineComponents(_0x57e537,_0x11f539),'ephemeral':!![]});}else await _0x84496d[_0x221d34(0x57e,0x59f)]({'content':_0x221d34(0x596,0x5a6),'ephemeral':!![]});}else await _0x84496d[_0x221d34(0x57e,0x58a)]({'content':_0x221d34(0x57b,0x5ac),'ephemeral':!![]});}else await _0x84496d[_0x221d34(0x57e,0x561)]({'content':_0x221d34(0x521,0x517),'ephemeral':!![]});}async function removeLinkButton(_0x3976c1,_0x381770,_0x2da59d,_0x73a78b){function _0x2b98aa(_0x36db46,_0x3ec218){return _0x43535b(_0x36db46,_0x3ec218-0x5c7);}if(_0x2da59d['length']===0x0){await _0x3976c1[_0x2b98aa(0x3f7,0x44e)]({'content':'There\x20are\x20no\x20link\x20buttons\x20to\x20remove.','ephemeral':!![]});return;}const _0x44fe98=_0x2da59d['map']((_0x1282a3,_0xb6e488)=>({'label':_0x1282a3[_0x2b98aa(0x45c,0x468)][_0x2b98aa(0x47f,0x467)],'value':_0xb6e488['toString']()})),_0x2d3b98=new StringSelectMenuBuilder()[_0x2b98aa(0x3ab,0x3e2)](_0x2b98aa(0x441,0x46f))[_0x2b98aa(0x485,0x444)](_0x2b98aa(0x482,0x45a))[_0x2b98aa(0x436,0x431)](_0x44fe98),_0x224ae8=[new ActionRowBuilder()['addComponents'](_0x2d3b98)];await _0x3976c1[_0x2b98aa(0x471,0x44e)]({'content':_0x2b98aa(0x492,0x447),'components':_0x224ae8,'ephemeral':!![]});const _0x4abf29=_0x4a8989=>_0x4a8989[_0x2b98aa(0x437,0x3f6)]['id']===_0x3976c1[_0x2b98aa(0x421,0x3f6)]['id']&&_0x4a8989[_0x2b98aa(0x400,0x41b)]===_0x2b98aa(0x42d,0x46f),_0x55b397=_0x3976c1[_0x2b98aa(0x452,0x432)][_0x2b98aa(0x453,0x442)]({'filter':_0x4abf29,'max':0x1,'time':0xea60});_0x55b397['on'](_0x2b98aa(0x47c,0x458),async _0x317e3c=>{function _0x412a98(_0x461218,_0x41258b){return _0x2b98aa(_0x41258b,_0x461218- -0xf4);}const _0x3669f2=parseInt(_0x317e3c['values'][0x0],0xa);_0x2da59d[_0x412a98(0x2f3,0x2e1)](_0x3669f2,0x1),await _0x317e3c['update']({'embeds':[_0x381770],'components':combineComponents(_0x73a78b,_0x2da59d),'ephemeral':!![]});}),_0x55b397['on'](_0x2b98aa(0x3f5,0x3ff),async _0x1a0dec=>{function _0x220b2c(_0x21a31a,_0x59013b){return _0x2b98aa(_0x21a31a,_0x59013b- -0xe7);}_0x1a0dec[_0x220b2c(0x2f3,0x325)]===0x0&&await _0x3976c1[_0x220b2c(0x3a5,0x367)]({'content':_0x220b2c(0x324,0x329),'ephemeral':!![]});});}async function postEmbed(_0x33983f,_0x26b064,_0x1ce763,_0x58bc48){function _0x121e10(_0x2973ee,_0x2f9854){return _0x43535b(_0x2f9854,_0x2973ee-0x698);}const _0x234a36=linkButtonsToComponents(_0x1ce763);if(_0x58bc48)try{const _0x54f833=await _0x33983f[_0x121e10(0x503,0x4db)][_0x121e10(0x4fe,0x4b6)]['fetch'](_0x58bc48);await _0x54f833[_0x121e10(0x4e8,0x4e7)]({'embeds':[_0x26b064],'components':_0x234a36}),await _0x33983f[_0x121e10(0x4e0,0x4a1)]({'content':'Successfully\x20edited\x20the\x20embed!','components':[],'embeds':[],'ephemeral':!![]});}catch(_0x4012a1){if(_0x4012a1['code']===0xc355)await _0x33983f[_0x121e10(0x49b,0x44f)]({'content':_0x121e10(0x4a1,0x48c),'ephemeral':!![]});else{if(_0x4012a1[_0x121e10(0x4d8,0x4d8)]===0x2718)await _0x33983f[_0x121e10(0x49b,0x4cd)]({'content':_0x121e10(0x4e6,0x4e7),'ephemeral':!![]});else throw _0x4012a1;}}else await _0x33983f[_0x121e10(0x503,0x535)][_0x121e10(0x536,0x538)]({'embeds':[_0x26b064],'components':_0x234a36}),await _0x33983f[_0x121e10(0x4e0,0x4ae)]({'content':_0x121e10(0x52a,0x4d6),'components':[],'embeds':[],'ephemeral':!![]});}function isValidHttpUrl(_0x32ae68){function _0x46f0be(_0x56d376,_0x588d67){return _0x43535b(_0x588d67,_0x56d376- -0x4c);}try{const _0x978705=new URL(_0x32ae68);return _0x978705[_0x46f0be(-0x22d,-0x221)]===_0x46f0be(-0x1a1,-0x1b7)||_0x978705[_0x46f0be(-0x22d,-0x1ff)]==='https:';}catch(_0x4993a4){return![];}}function isImageUrl(_0x1d93eb){function _0xcd84ac(_0x3dc234,_0x4a47d2){return _0x43535b(_0x4a47d2,_0x3dc234-0x52);}return/\.(jpeg|jpg|gif|png|svg)$/i[_0xcd84ac(-0x1ae,-0x1a8)](_0x1d93eb);}